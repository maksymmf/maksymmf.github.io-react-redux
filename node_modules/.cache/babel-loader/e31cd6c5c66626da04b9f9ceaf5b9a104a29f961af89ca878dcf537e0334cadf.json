{"ast":null,"code":"import _objectSpread from\"/Users/maksymm/Desktop/react-redux/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/maksymm/Desktop/react-redux/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/maksymm/Desktop/react-redux/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/maksymm/Desktop/react-redux/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{handleFetch}from\"../../utils\";import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TodoList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todo=_useState2[0],setTodo=_useState2[1];useEffect(function(){var getTodo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var allTodos;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return handleFetch(\"\".concat(process.env.REACT_APP_URL,\"todos\"));case 2:allTodos=_context.sent;setTodo(allTodos.slice(0,10));case 4:case\"end\":return _context.stop();}},_callee);}));return function getTodo(){return _ref.apply(this,arguments);};}();getTodo();},[]);var handleTodoToggle=function handleTodoToggle(id){var updatedTodo=todo.map(function(todo){if(todo.id===id){return _objectSpread(_objectSpread({},todo),{},{completed:!todo.completed});}return todo;});setTodo(updatedTodo);};return/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:todo.length?/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Completed\"})]})}),todo.map(function(todo){return/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:todo.id}),/*#__PURE__*/_jsx(\"td\",{children:todo.title}),todo.completed?/*#__PURE__*/_jsx(\"td\",{className:\"todo-completed\",role:\"button\",onClick:function onClick(){return handleTodoToggle(todo.id);}}):/*#__PURE__*/_jsx(\"td\",{className:\"todo-not-completed\",role:\"button\",onClick:function onClick(){return handleTodoToggle(todo.id);}})]})},todo.id);})]}):/*#__PURE__*/_jsx(\"div\",{className:\"loading\"})});}export default TodoList;","map":{"version":3,"names":["handleFetch","useState","useEffect","TodoList","todo","setTodo","getTodo","process","env","REACT_APP_URL","allTodos","slice","handleTodoToggle","id","updatedTodo","map","completed","length","title"],"sources":["/Users/maksymm/Desktop/react-redux/src/components/TodoList/TodoList.js"],"sourcesContent":["import { handleFetch } from \"../../utils\";\nimport { useState, useEffect } from 'react';\n\nfunction TodoList () {\n    const [todo, setTodo] = useState([]);\n\n    useEffect(() => {\n        const getTodo = async () => {\n            const allTodos = await handleFetch(`${process.env.REACT_APP_URL}todos`);\n\n            setTodo(allTodos.slice(0, 10));\n        }\n\n        getTodo();\n    }, []);\n\n    const handleTodoToggle = (id) => {\n        const updatedTodo = todo.map(todo => {\n            if (todo.id === id) {\n                return {\n                    ...todo,\n                    completed: !todo.completed\n                }\n            }\n            \n            return todo;\n        });\n\n        setTodo(updatedTodo);\n    }\n\n    return (\n        <div className=\"content\">\n            {todo.length ? (\n                <table>\n                    <thead>\n                        <tr>\n                            <th>ID</th>\n                            <th>Title</th>\n                            <th>Completed</th>\n                        </tr>\n                    </thead>\n                    {todo.map((todo) => {\n                        return (\n                            <tbody key={todo.id}>\n                                <tr>\n                                    <td>{todo.id}</td>\n                                    <td>{todo.title}</td>\n                                    {todo.completed ? (\n                                        <td \n                                            className=\"todo-completed\" \n                                            role=\"button\" \n                                            onClick={() => handleTodoToggle(todo.id)}\n                                        ></td>\n                                    ) : (\n                                        <td \n                                            className=\"todo-not-completed\" \n                                            role=\"button\" \n                                            onClick={() => handleTodoToggle(todo.id)}\n                                        ></td>\n                                    )}\n                                </tr>\n                            </tbody>\n                        )\n                    })}\n                </table>\n            ) : (\n                <div className='loading'></div>\n            )}\n        </div>\n    )\n}\n\nexport default TodoList;"],"mappings":"+eAAA,OAASA,WAAW,KAAQ,aAAa,CACzC,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,wFAE5C,QAASC,SAAQ,EAAI,CACjB,cAAwBF,QAAQ,CAAC,EAAE,CAAC,wCAA7BG,IAAI,eAAEC,OAAO,eAEpBH,SAAS,CAAC,UAAM,CACZ,GAAMI,QAAO,4FAAG,uKACWN,YAAW,WAAIO,OAAO,CAACC,GAAG,CAACC,aAAa,UAAQ,QAAjEC,QAAQ,eAEdL,OAAO,CAACK,QAAQ,CAACC,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAAC,CAAC,qDAClC,kBAJKL,QAAO,0CAIZ,CAEDA,OAAO,EAAE,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMM,iBAAgB,CAAG,QAAnBA,iBAAgB,CAAIC,EAAE,CAAK,CAC7B,GAAMC,YAAW,CAAGV,IAAI,CAACW,GAAG,CAAC,SAAAX,IAAI,CAAI,CACjC,GAAIA,IAAI,CAACS,EAAE,GAAKA,EAAE,CAAE,CAChB,sCACOT,IAAI,MACPY,SAAS,CAAE,CAACZ,IAAI,CAACY,SAAS,GAElC,CAEA,MAAOZ,KAAI,CACf,CAAC,CAAC,CAEFC,OAAO,CAACS,WAAW,CAAC,CACxB,CAAC,CAED,mBACI,YAAK,SAAS,CAAC,SAAS,UACnBV,IAAI,CAACa,MAAM,cACR,sCACI,oCACI,mCACI,oBAAI,IAAE,EAAK,cACX,oBAAI,OAAK,EAAK,cACd,oBAAI,WAAS,EAAK,GACjB,EACD,CACPb,IAAI,CAACW,GAAG,CAAC,SAACX,IAAI,CAAK,CAChB,mBACI,oCACI,mCACI,oBAAKA,IAAI,CAACS,EAAE,EAAM,cAClB,oBAAKT,IAAI,CAACc,KAAK,EAAM,CACpBd,IAAI,CAACY,SAAS,cACX,WACI,SAAS,CAAC,gBAAgB,CAC1B,IAAI,CAAC,QAAQ,CACb,OAAO,CAAE,yBAAMJ,iBAAgB,CAACR,IAAI,CAACS,EAAE,CAAC,EAAC,EACvC,cAEN,WACI,SAAS,CAAC,oBAAoB,CAC9B,IAAI,CAAC,QAAQ,CACb,OAAO,CAAE,yBAAMD,iBAAgB,CAACR,IAAI,CAACS,EAAE,CAAC,EAAC,EAEhD,GACA,EAjBGT,IAAI,CAACS,EAAE,CAkBX,CAEhB,CAAC,CAAC,GACE,cAER,YAAK,SAAS,CAAC,SAAS,EAC3B,EACC,CAEd,CAEA,cAAeV,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}